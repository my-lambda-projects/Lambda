(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{F63i:function(e,n){var r,t,o=e.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(r===setTimeout)return setTimeout(e,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(n){try{return r.call(null,e,0)}catch(n){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:defaultSetTimout}catch(e){r=defaultSetTimout}try{t="function"===typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){t=defaultClearTimeout}}();var i,a=[],s=!1,u=-1;function cleanUpNextTick(){s&&i&&(s=!1,i.length?a=i.concat(a):u=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var n=a.length;n;){for(i=a,a=[];++u<n;)i&&i[u].run();u=-1,n=a.length}i=null,s=!1,function runClearTimeout(e){if(t===clearTimeout)return clearTimeout(e);if((t===defaultClearTimeout||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{return t(e)}catch(n){try{return t.call(null,e)}catch(n){return t.call(this,e)}}}(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}o.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];a.push(new Item(e,n)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},JBtm:function(e,n,r){"use strict";var t=r("UM5q"),o=r("maj8"),i=r("1Fob");function encode(e,n){return n.encode?n.strict?t(e):encodeURIComponent(e):e}function extract(e){var n=e.indexOf("?");return-1===n?"":e.slice(n+1)}function parse(e,n){var r=function parserForArrayFormat(e){var n;switch(e.arrayFormat){case"index":return function(e,r,t){n=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),n?(void 0===t[e]&&(t[e]={}),t[e][n[1]]=r):t[e]=r};case"bracket":return function(e,r,t){n=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),n?void 0!==t[e]?t[e]=[].concat(t[e],r):t[e]=[r]:t[e]=r};default:return function(e,n,r){void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=n}}}(n=o({arrayFormat:"none"},n)),t=Object.create(null);return"string"!==typeof e?t:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var n=e.replace(/\+/g," ").split("="),o=n.shift(),a=n.length>0?n.join("="):void 0;a=void 0===a?null:i(a),r(i(o),a,t)}),Object.keys(t).sort().reduce(function(e,n){var r=t[n];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?e[n]=function keysSorter(e){return Array.isArray(e)?e.sort():"object"===typeof e?keysSorter(Object.keys(e)).sort(function(e,n){return Number(e)-Number(n)}).map(function(n){return e[n]}):e}(r):e[n]=r,e},Object.create(null))):t}n.extract=extract,n.parse=parse,n.stringify=function(e,n){!1===(n=o({encode:!0,strict:!0,arrayFormat:"none"},n)).sort&&(n.sort=function(){});var r=function encoderForArrayFormat(e){switch(e.arrayFormat){case"index":return function(n,r,t){return null===r?[encode(n,e),"[",t,"]"].join(""):[encode(n,e),"[",encode(t,e),"]=",encode(r,e)].join("")};case"bracket":return function(n,r){return null===r?encode(n,e):[encode(n,e),"[]=",encode(r,e)].join("")};default:return function(n,r){return null===r?encode(n,e):[encode(n,e),"=",encode(r,e)].join("")}}}(n);return e?Object.keys(e).sort(n.sort).map(function(t){var o=e[t];if(void 0===o)return"";if(null===o)return encode(t,n);if(Array.isArray(o)){var i=[];return o.slice().forEach(function(e){void 0!==e&&i.push(r(t,e,i.length))}),i.join("&")}return encode(t,n)+"="+encode(o,n)}).filter(function(e){return e.length>0}).join("&"):""},n.parseUrl=function(e,n){return{url:e.split("?")[0]||"",query:parse(extract(e),n)}}},Jygx:function(e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function InvalidCharacterError(e){this.message=e}InvalidCharacterError.prototype=new Error,InvalidCharacterError.prototype.name="InvalidCharacterError",e.exports="undefined"!==typeof window&&window.atob&&window.atob.bind(window)||function polyfill(e){var n=String(e).replace(/=+$/,"");if(n.length%4==1)throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,o,i=0,a=0,s="";o=n.charAt(a++);~o&&(t=i%4?64*t+o:o,i++%4)?s+=String.fromCharCode(255&t>>(-2*i&6)):0)o=r.indexOf(o);return s}},Lm5s:function(e,n,r){e.exports=r("bZ7k"),e.exports.default=e.exports},WSu0:function(e,n,r){"use strict";var t=r("aY38");function InvalidTokenError(e){this.message=e}InvalidTokenError.prototype=new Error,InvalidTokenError.prototype.name="InvalidTokenError",e.exports=function(e,n){if("string"!==typeof e)throw new InvalidTokenError("Invalid token specified");var r=!0===(n=n||{}).header?0:1;try{return JSON.parse(t(e.split(".")[r]))}catch(o){throw new InvalidTokenError("Invalid token specified: "+o.message)}},e.exports.InvalidTokenError=InvalidTokenError},aY38:function(e,n,r){var t=r("Jygx");e.exports=function(e){var n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function b64DecodeUnicode(e){return decodeURIComponent(t(e).replace(/(.)/g,function(e,n){var r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(n)}catch(r){return t(n)}}},bZ7k:function(e,n,r){(function(n){"undefined"!=typeof self&&self,e.exports=function(e){var n={};function __webpack_require__(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}return __webpack_require__.m=e,__webpack_require__.c=n,__webpack_require__.d=function(e,n,r){__webpack_require__.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,n){if(1&n&&(e=__webpack_require__(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)__webpack_require__.d(r,t,function(n){return e[n]}.bind(null,t));return r},__webpack_require__.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(e,n){return{}.hasOwnProperty.call(e,n)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(e,r,t){"use strict";t.r(r);var o={};function isRegex(e){return"[object RegExp]"==={}.toString.call(e)}t.r(o),t.d(o,"WeakMap",function(){return y});var i={MOCK:"mock:",FILE:"file:",ABOUT:"about:"},a="*",s={IFRAME:"iframe",POPUP:"popup"},u="Call was rejected by callee.\r\n";function isAboutProtocol(e){return void 0===e&&(e=window),e.location.protocol===i.ABOUT}function getParent(e){if(void 0===e&&(e=window),e)try{if(e.parent&&e.parent!==e)return e.parent}catch(n){}}function getOpener(e){if(void 0===e&&(e=window),e&&!getParent(e))try{return e.opener}catch(n){}}function canReadFromWindow(e){try{return!0}catch(n){}return!1}function getActualDomain(e){var n=(e=e||window).location;if(!n)throw new Error("Can not read window location");var r=n.protocol;if(!r)throw new Error("Can not read window protocol");if(r===i.FILE)return i.FILE+"//";if(r===i.ABOUT){var t=getParent(e);return t&&canReadFromWindow()?getActualDomain(t):i.ABOUT+"//"}var o=n.host;if(!o)throw new Error("Can not read window host");return r+"//"+o}function getDomain(e){var n=getActualDomain(e=e||window);return n&&e.mockDomain&&0===e.mockDomain.indexOf(i.MOCK)?e.mockDomain:n}function isSameDomain(e){if(!function(e){try{if(e===window)return!0}catch(r){}try{var n=Object.getOwnPropertyDescriptor(e,"location");if(n&&!1===n.enumerable)return!1}catch(r){}try{if(isAboutProtocol(e)&&canReadFromWindow())return!0}catch(r){}try{if(getActualDomain(e)===getActualDomain(window))return!0}catch(r){}return!1}(e))return!1;try{if(e===window)return!0;if(isAboutProtocol(e)&&canReadFromWindow())return!0;if(getDomain(window)===getDomain(e))return!0}catch(n){}return!1}function isAncestorParent(e,n){if(!e||!n)return!1;var r=getParent(n);return r?r===e:-1!==function(e){var n=[];try{for(;e.parent!==e;)n.push(e.parent),e=e.parent}catch(r){}return n}(n).indexOf(e)}function getFrames(e){var n,r,t=[];try{n=e.frames}catch(u){n=e}try{r=n.length}catch(u){}if(0===r)return t;if(r){for(var o=0;o<r;o++){var i=void 0;try{i=n[o]}catch(u){continue}t.push(i)}return t}for(var a=0;a<100;a++){var s=void 0;try{s=n[a]}catch(u){return t}if(!s)return t;t.push(s)}return t}var c=[],d=[];function isWindowClosed(e,n){void 0===n&&(n=!0);try{if(e===window)return!1}catch(o){return!0}try{if(!e)return!0}catch(o){return!0}try{if(e.closed)return!0}catch(o){return!o||o.message!==u}if(n&&isSameDomain(e))try{if(e.mockclosed)return!0}catch(o){}try{if(!e.parent||!e.top)return!0}catch(o){}var r=function(e,n){for(var r=0;r<e.length;r++)try{if(e[r]===n)return r}catch(o){}return-1}(c,e);if(-1!==r){var t=d[r];if(t&&function(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var n=e.ownerDocument;return!(!n||!n.documentElement||n.documentElement.contains(e))}(t))return!0}return!1}function getAncestor(e){return void 0===e&&(e=window),getOpener(e=e||window)||getParent(e)||void 0}function matchDomain(e,n){if("string"==typeof e){if("string"==typeof n)return e===a||n===e;if(isRegex(n))return!1;if(Array.isArray(n))return!1}return isRegex(e)?isRegex(n)?e.toString()===n.toString():!Array.isArray(n)&&Boolean(n.match(e)):!!Array.isArray(e)&&(Array.isArray(n)?JSON.stringify(e)===JSON.stringify(n):!isRegex(n)&&e.some(function(e){return matchDomain(e,n)}))}function isWindow(e){try{if(e===window)return!0}catch(n){if(n&&n.message===u)return!0}try{if("[object Window]"==={}.toString.call(e))return!0}catch(n){if(n&&n.message===u)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(n){if(n&&n.message===u)return!0}try{if(e&&e.self===e)return!0}catch(n){if(n&&n.message===u)return!0}try{if(e&&e.parent===e)return!0}catch(n){if(n&&n.message===u)return!0}try{if(e&&e.top===e)return!0}catch(n){if(n&&n.message===u)return!0}return!1}function utils_isPromise(e){try{if(!e)return!1;if("undefined"!=typeof Promise&&e instanceof Promise)return!0;if("undefined"!=typeof window&&window.Window&&e instanceof window.Window)return!1;if("undefined"!=typeof window&&window.constructor&&e instanceof window.constructor)return!1;var n={}.toString;if(n){var r=n.call(e);if("[object Window]"===r||"[object global]"===r||"[object DOMWindow]"===r)return!1}if("function"==typeof e.then)return!0}catch(t){return!1}return!1}var f,l=[],w=[],h=0;function flushActive(){if(!h&&f){var e=f;f=null,e.resolve()}}function startActive(){h+=1}function endActive(){h-=1,flushActive()}var p=function(){function ZalgoPromise(e){var n=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],e){var r,t,o=!1,i=!1,a=!1;startActive();try{e(function(e){a?n.resolve(e):(o=!0,r=e)},function(e){a?n.reject(e):(i=!0,t=e)})}catch(s){return endActive(),void this.reject(s)}endActive(),a=!0,o?this.resolve(r):i&&this.reject(t)}}var e=ZalgoPromise.prototype;return e.resolve=function(e){if(this.resolved||this.rejected)return this;if(utils_isPromise(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this},e.reject=function(e){var n=this;if(this.resolved||this.rejected)return this;if(utils_isPromise(e))throw new Error("Can not reject promise with another promise");if(!e){var r=e&&"function"==typeof e.toString?e.toString():{}.toString.call(e);e=new Error("Expected reject to be called with Error, got "+r)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout(function(){n.errorHandled||function(e,n){if(-1===l.indexOf(e)){l.push(e),setTimeout(function(){throw e},1);for(var r=0;r<w.length;r++)w[r](e,n)}}(e,n)},1),this.dispatch(),this},e.asyncReject=function(e){return this.errorHandled=!0,this.reject(e),this},e.dispatch=function(){var e=this,n=this.resolved,r=this.rejected,t=this.handlers;if(!this.dispatching&&(n||r)){this.dispatching=!0,startActive();for(var o=function _loop(o){var i=t[o],a=i.onSuccess,s=i.onError,u=i.promise,c=void 0;if(n)try{c=a?a(e.value):e.value}catch(d){return u.reject(d),"continue"}else if(r){if(!s)return u.reject(e.error),"continue";try{c=s(e.error)}catch(d){return u.reject(d),"continue"}}c instanceof ZalgoPromise&&(c.resolved||c.rejected)?(c.resolved?u.resolve(c.value):u.reject(c.error),c.errorHandled=!0):utils_isPromise(c)?c instanceof ZalgoPromise&&(c.resolved||c.rejected)?c.resolved?u.resolve(c.value):u.reject(c.error):c.then(function(e){u.resolve(e)},function(e){u.reject(e)}):u.resolve(c)},i=0;i<t.length;i++)o(i);t.length=0,this.dispatching=!1,endActive()}},e.then=function(e,n){if(e&&"function"!=typeof e&&!e.call)throw new Error("Promise.then expected a function for success handler");if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.then expected a function for error handler");var r=new ZalgoPromise;return this.handlers.push({promise:r,onSuccess:e,onError:n}),this.errorHandled=!0,this.dispatch(),r},e.catch=function(e){return this.then(void 0,e)},e.finally=function(e){if(e&&"function"!=typeof e&&!e.call)throw new Error("Promise.finally expected a function");return this.then(function(n){return ZalgoPromise.try(e).then(function(){return n})},function(n){return ZalgoPromise.try(e).then(function(){throw n})})},e.timeout=function(e,n){var r=this;if(this.resolved||this.rejected)return this;var t=setTimeout(function(){r.resolved||r.rejected||r.reject(n||new Error("Promise timed out after "+e+"ms"))},e);return this.then(function(e){return clearTimeout(t),e})},e.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},ZalgoPromise.resolve=function(e){return e instanceof ZalgoPromise?e:utils_isPromise(e)?new ZalgoPromise(function(n,r){return e.then(n,r)}):(new ZalgoPromise).resolve(e)},ZalgoPromise.reject=function(e){return(new ZalgoPromise).reject(e)},ZalgoPromise.asyncReject=function(e){return(new ZalgoPromise).asyncReject(e)},ZalgoPromise.all=function(e){var n=new ZalgoPromise,r=e.length,t=[];if(!r)return n.resolve(t),n;for(var o=function _loop2(o){var i=e[o];if(i instanceof ZalgoPromise){if(i.resolved)return t[o]=i.value,r-=1,"continue"}else if(!utils_isPromise(i))return t[o]=i,r-=1,"continue";ZalgoPromise.resolve(i).then(function(e){t[o]=e,0==(r-=1)&&n.resolve(t)},function(e){n.reject(e)})},i=0;i<e.length;i++)o(i);return 0===r&&n.resolve(t),n},ZalgoPromise.hash=function(e){var n={};return ZalgoPromise.all(Object.keys(e).map(function(r){return ZalgoPromise.resolve(e[r]).then(function(e){n[r]=e})})).then(function(){return n})},ZalgoPromise.map=function(e,n){return ZalgoPromise.all(e.map(n))},ZalgoPromise.onPossiblyUnhandledException=function(e){return function(e){return w.push(e),{cancel:function cancel(){w.splice(w.indexOf(e),1)}}}(e)},ZalgoPromise.try=function(e,n,r){if(e&&"function"!=typeof e&&!e.call)throw new Error("Promise.try expected a function");var t;startActive();try{t=e.apply(n,r||[])}catch(o){return endActive(),ZalgoPromise.reject(o)}return endActive(),ZalgoPromise.resolve(t)},ZalgoPromise.delay=function(e){return new ZalgoPromise(function(n){setTimeout(n,e)})},ZalgoPromise.isPromise=function(e){return!!(e&&e instanceof ZalgoPromise)||utils_isPromise(e)},ZalgoPromise.flush=function(){return e=f=f||new ZalgoPromise,flushActive(),e;var e},ZalgoPromise}();function _extends(){return(_extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function util_safeIndexOf(e,n){for(var r=0;r<e.length;r++)try{if(e[r]===n)return r}catch(t){}return-1}var m,g=Object.defineProperty,v=Date.now()%1e9,y=function(){function CrossDomainSafeWeakMap(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,v+=1,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__"+v,function(){if("undefined"==typeof WeakMap)return!1;if(void 0===Object.freeze)return!1;try{var e=new WeakMap,n={};return Object.freeze(n),e.set(n,"__testvalue__"),"__testvalue__"===e.get(n)}catch(r){return!1}}())try{this.weakmap=new WeakMap}catch(e){}this.keys=[],this.values=[]}var e=CrossDomainSafeWeakMap.prototype;return e._cleanupClosedWindows=function(){for(var e=this.weakmap,n=this.keys,r=0;r<n.length;r++){var t=n[r];if(isWindow(t)&&isWindowClosed(t)){if(e)try{e.delete(t)}catch(o){}n.splice(r,1),this.values.splice(r,1),r-=1}}},e.isSafeToReadWrite=function(e){return!isWindow(e)},e.set=function(e,n){if(!e)throw new Error("WeakMap expected key");var r=this.weakmap;if(r)try{r.set(e,n)}catch(u){delete this.weakmap}if(this.isSafeToReadWrite(e)){var t=this.name,o=e[t];o&&o[0]===e?o[1]=n:g(e,t,{value:[e,n],writable:!0})}else{this._cleanupClosedWindows();var i=this.keys,a=this.values,s=util_safeIndexOf(i,e);-1===s?(i.push(e),a.push(n)):a[s]=n}},e.get=function(e){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{if(n.has(e))return n.get(e)}catch(o){delete this.weakmap}if(!this.isSafeToReadWrite(e)){this._cleanupClosedWindows();var r=util_safeIndexOf(this.keys,e);if(-1===r)return;return this.values[r]}var t=e[this.name];if(t&&t[0]===e)return t[1]},e.delete=function(e){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.delete(e)}catch(i){delete this.weakmap}if(this.isSafeToReadWrite(e)){var r=e[this.name];r&&r[0]===e&&(r[0]=r[1]=void 0)}else{this._cleanupClosedWindows();var t=this.keys,o=util_safeIndexOf(t,e);-1!==o&&(t.splice(o,1),this.values.splice(o,1))}},e.has=function(e){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{if(n.has(e))return!0}catch(t){delete this.weakmap}if(this.isSafeToReadWrite(e)){var r=e[this.name];return!(!r||r[0]!==e)}return this._cleanupClosedWindows(),-1!==util_safeIndexOf(this.keys,e)},e.getOrSet=function(e,n){if(this.has(e))return this.get(e);var r=n();return this.set(e,r),r},CrossDomainSafeWeakMap}();function uniqueID(){var e="0123456789abcdef";return"xxxxxxxxxx".replace(/./g,function(){return e.charAt(Math.floor(Math.random()*e.length))})+"_"+function(e){if("function"==typeof btoa)return btoa(e);if("undefined"!=typeof n)return n.from(e,"utf8").toString("base64");throw new Error("Can not find window.btoa or Buffer")}((new Date).toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}function memoizePromise(e){var n={};function memoizedPromiseFunction(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];var i=function(e){try{return JSON.stringify([].slice.call(e),function(e,n){return"function"==typeof n?"memoize["+function(e){if(m=m||new y,null==e||"object"!=typeof e&&"function"!=typeof e)throw new Error("Invalid object");var n=m.get(e);return n||(n=typeof e+":"+uniqueID(),m.set(e,n)),n}(n)+"]":n})}catch(n){throw new Error("Arguments not serializable -- can not be used to memoize")}}(t);return n.hasOwnProperty(i)?n[i]:(n[i]=e.apply(this,arguments).finally(function(){delete n[i]}),n[i])}return memoizedPromiseFunction.reset=function(){n={}},memoizedPromiseFunction}function src_util_noop(){}function stringifyError(e,n){if(void 0===n&&(n=1),n>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+{}.toString.call(e)+">";if("string"==typeof e)return e;if(e instanceof Error){var r=e&&e.stack,t=e&&e.message;if(r&&t)return-1!==r.indexOf(t)?r:t+"\n"+r;if(r)return r;if(t)return t}return"function"==typeof e.toString?e.toString():{}.toString.call(e)}catch(o){return"Error while stringifying error: "+stringifyError(o,n+1)}}function stringify(e){return"string"==typeof e?e:e&&"function"==typeof e.toString?e.toString():{}.toString.call(e)}function util_isRegex(e){return"[object RegExp]"==={}.toString.call(e)}function util_getOrSet(e,n,r){if(e.hasOwnProperty(n))return e[n];var t=r();return e[n]=t,t}Object.create(Error.prototype);var _={METHOD:"postrobot_method",HELLO:"postrobot_hello",OPEN_TUNNEL:"postrobot_open_tunnel"},b="*",E={CROSS_DOMAIN_ZALGO_PROMISE:"cross_domain_zalgo_promise",CROSS_DOMAIN_FUNCTION:"cross_domain_function",CROSS_DOMAIN_WINDOW:"cross_domain_window"};function global_getGlobal(e){return void 0===e&&(e=window),e!==window?e.__post_robot_10_0_16__:e.__post_robot_10_0_16__=e.__post_robot_10_0_16__||{}}var O=function getObj(){return{}};function globalStore(e,n){return void 0===e&&(e="store"),void 0===n&&(n=O),util_getOrSet(global_getGlobal(),e,function(){var e=n();return{has:function has(n){return e.hasOwnProperty(n)},get:function get(n,r){return e.hasOwnProperty(n)?e[n]:r},set:function set(n,r){return e[n]=r,r},del:function del(n){delete e[n]},getOrSet:function getOrSet(n,r){return util_getOrSet(e,n,r)},reset:function reset(){e=n()},keys:function keys(){return Object.keys(e)}}})}var S=function WildCard(){};function getWildcard(){var e=global_getGlobal();return e.WINDOW_WILDCARD=e.WINDOW_WILDCARD||new S,e.WINDOW_WILDCARD}function windowStore(e,n){return void 0===e&&(e="store"),void 0===n&&(n=O),globalStore("windowStore").getOrSet(e,function(){var r=new y,t=function getStore(e){return r.getOrSet(e,n)};return{has:function has(n){return t(n).hasOwnProperty(e)},get:function get(n,r){var o=t(n);return o.hasOwnProperty(e)?o[e]:r},set:function set(n,r){return t(n)[e]=r,r},del:function del(n){delete t(n)[e]},getOrSet:function getOrSet(n,r){return util_getOrSet(t(n),e,r)}}})}function getInstanceID(){return globalStore("instance").getOrSet("instanceID",uniqueID)}function getHelloPromise(e){return windowStore("helloPromises").getOrSet(e,function(){return new p})}function sayHello(e,n){return(0,n.send)(e,_.HELLO,{instanceID:getInstanceID()},{domain:b,timeout:-1}).then(function(n){var r=n.origin,t=n.data.instanceID;return getHelloPromise(e).resolve({win:e,domain:r}),{win:e,domain:r,instanceID:t}})}function getWindowInstanceID(e,n){var r=n.send;return windowStore("windowInstanceIDPromises").getOrSet(e,function(){return sayHello(e,{send:r}).then(function(e){return e.instanceID})})}function markWindowKnown(e){windowStore("knownWindows").set(e,!0)}var W,P={FUNCTION:"function",ERROR:"error",PROMISE:"promise",REGEX:"regex",DATE:"date",ARRAY:"array",OBJECT:"object",STRING:"string",NUMBER:"number",BOOLEAN:"boolean",NULL:"null",UNDEFINED:"undefined"};function isSerializedType(e){return"object"==typeof e&&null!==e&&"string"==typeof e.__type__}function determineType(e){return void 0===e?P.UNDEFINED:null===e?P.NULL:Array.isArray(e)?P.ARRAY:"function"==typeof e?P.FUNCTION:"object"==typeof e?e instanceof Error?P.ERROR:"function"==typeof e.then?P.PROMISE:"[object RegExp]"==={}.toString.call(e)?P.REGEX:"[object Date]"==={}.toString.call(e)?P.DATE:P.OBJECT:"string"==typeof e?P.STRING:"number"==typeof e?P.NUMBER:"boolean"==typeof e?P.BOOLEAN:void 0}function serializeType(e,n){return{__type__:e,__val__:n}}var x,I=((W={})[P.FUNCTION]=function(){},W[P.ERROR]=function(e){return serializeType(P.ERROR,{message:e.message,stack:e.stack,code:e.code})},W[P.PROMISE]=function(){},W[P.REGEX]=function(e){return serializeType(P.REGEX,e.source)},W[P.DATE]=function(e){return serializeType(P.DATE,e.toJSON())},W[P.ARRAY]=function(e){return e},W[P.OBJECT]=function(e){return e},W[P.STRING]=function(e){return e},W[P.NUMBER]=function(e){return e},W[P.BOOLEAN]=function(e){return e},W[P.NULL]=function(e){return e},W),k={},A=((x={})[P.FUNCTION]=function(){throw new Error("Function serialization is not implemented; nothing to deserialize")},x[P.ERROR]=function(e){var n=e.stack,r=e.code,t=new Error(e.message);return t.code=r,t.stack=n+"\n\n"+t.stack,t},x[P.PROMISE]=function(){throw new Error("Promise serialization is not implemented; nothing to deserialize")},x[P.REGEX]=function(e){return new RegExp(e)},x[P.DATE]=function(e){return new Date(e)},x[P.ARRAY]=function(e){return e},x[P.OBJECT]=function(e){return e},x[P.STRING]=function(e){return e},x[P.NUMBER]=function(e){return e},x[P.BOOLEAN]=function(e){return e},x[P.NULL]=function(e){return e},x),R={};function cleanupProxyWindows(){for(var e=globalStore("idToProxyWindow"),n=0,r=e.keys();n<r.length;n++){var t=r[n];e.get(t).shouldClean()&&e.del(t)}}function getSerializedWindow(e,n,r){var t,o=r.send;return{id:e,type:getOpener(n)?s.POPUP:s.IFRAME,getInstanceID:memoizePromise(function(){return getWindowInstanceID(n,{send:o})}),close:function close(){return p.try(function(){!function(e){try{e.close()}catch(n){}}(n)})},getName:function getName(){return p.try(function(){if(!isWindowClosed(n))return t})},focus:function focus(){return p.try(function(){n.focus()})},isClosed:function isClosed(){return p.try(function(){return isWindowClosed(n)})},setLocation:function setLocation(e){return p.try(function(){if(isSameDomain(n))try{if(n.location&&"function"==typeof n.location.replace)return void n.location.replace(e)}catch(r){}n.location=e})},setName:function setName(e){return p.try(function(){(n=function(e){if(!isSameDomain(e))throw new Error("Expected window to be same domain");return e}(n)).name=e,n.frameElement&&n.frameElement.setAttribute("name",e),t=e})}}}new p(function(e){if(window.document&&window.document.body)return e(window.document.body);var n=setInterval(function(){if(window.document&&window.document.body)return clearInterval(n),e(window.document.body)},10)});var j=function(){function ProxyWindow(e,n,r){var t=r.send;this.isProxyWindow=!0,this.serializedWindow=void 0,this.actualWindow=void 0,this.actualWindowPromise=void 0,this.send=void 0,this.name=void 0,this.serializedWindow=e,this.actualWindowPromise=new p,this.send=t,n&&this.setWindow(n)}var e=ProxyWindow.prototype;return e.getType=function(){return this.serializedWindow.type},e.isPopup=function(){return this.getType()===s.POPUP},e.isIframe=function(){return this.getType()===s.IFRAME},e.setLocation=function(e){var n=this;return this.serializedWindow.setLocation(e).then(function(){return n})},e.setName=function(e){var n=this;return this.serializedWindow.setName(e).then(function(){return n})},e.close=function(){var e=this;return this.serializedWindow.close().then(function(){return e})},e.focus=function(){var e=this;return p.try(function(){return p.all([e.isPopup()&&e.serializedWindow.getName().then(function(e){e&&window.open("",e)}),e.serializedWindow.focus()])}).then(function(){return e})},e.isClosed=function(){return this.serializedWindow.isClosed()},e.getWindow=function(){return this.actualWindow},e.setWindow=function(e){this.actualWindow=e,this.serializedWindow=getSerializedWindow(this.serializedWindow.id,e,{send:this.send}),this.actualWindowPromise.resolve(e)},e.awaitWindow=function(){return this.actualWindowPromise},e.matchWindow=function(e){var n=this;return p.try(function(){return n.actualWindow?e===n.actualWindow:p.all([n.getInstanceID(),getWindowInstanceID(e,{send:n.send})]).then(function(r){var t=r[0]===r[1];return t&&n.setWindow(e),t})})},e.unwrap=function(){return this.actualWindow||this},e.getInstanceID=function(){return this.serializedWindow.getInstanceID()},e.serialize=function(){return this.serializedWindow},e.shouldClean=function(){return this.actualWindow&&isWindowClosed(this.actualWindow)},ProxyWindow.unwrap=function(e){return ProxyWindow.isProxyWindow(e)?e.unwrap():e},ProxyWindow.serialize=function(e,n){var r=n.send;return cleanupProxyWindows(),ProxyWindow.toProxyWindow(e,{send:r}).serialize()},ProxyWindow.deserialize=function(e,n){var r=n.on,t=n.send;return cleanupProxyWindows(),globalStore("idToProxyWindow").getOrSet(e.id,function(){return new ProxyWindow(e,null,{on:r,send:t})})},ProxyWindow.isProxyWindow=function(e){return Boolean(e&&!isWindow(e)&&e.isProxyWindow)},ProxyWindow.toProxyWindow=function(e,n){var r=n.send;if(cleanupProxyWindows(),ProxyWindow.isProxyWindow(e))return e;var t=e;return windowStore("winToProxyWindow").getOrSet(e,function(){var e=uniqueID(),n=new ProxyWindow(getSerializedWindow(e,t,{send:r}),t,{send:r});return globalStore("idToProxyWindow").set(e,n)})},ProxyWindow}();function addMethod(e,n,r,t,o){var i=windowStore("methodStore"),a=globalStore("proxyWindowMethods");j.isProxyWindow(t)?a.set(e,{val:n,name:r,domain:o,source:t}):(a.del(e),i.getOrSet(t,function(){return{}})[e]={domain:o,name:r,val:n,source:t})}function lookupMethod(e,n){var r=windowStore("methodStore"),t=globalStore("proxyWindowMethods");return r.getOrSet(e,function(){return{}})[n]||t.get(n)}function function_serializeFunction(e,n,r,t,o){!function(e){var n=o.on;globalStore("builtinListeners").getOrSet("functionCalls",function(){return n(_.METHOD,{domain:b},function(e){var n=e.source,r=e.origin,t=e.data,o=t.id,i=t.name,a=lookupMethod(n,o);if(!a)throw new Error("Could not find method '"+t.name+"' with id: "+t.id+" in "+getDomain(window));var s=a.source,u=a.domain,c=a.val;return p.try(function(){if(!matchDomain(u,r))throw new Error("Method '"+t.name+"' domain "+JSON.stringify(util_isRegex(a.domain)?a.domain.source:a.domain)+" does not match origin "+r+" in "+getDomain(window));if(j.isProxyWindow(s))return s.matchWindow(n).then(function(e){if(!e)throw new Error("Method call '"+t.name+"' failed - proxy window does not match source in "+getDomain(window))})}).then(function(){return c.apply({source:n,origin:r},t.args)},function(e){return p.try(function(){if(c.onError)return c.onError(e)}).then(function(){throw e.stack&&(e.stack="Remote call to "+i+"()\n\n"+e.stack),e})}).then(function(e){return{result:e,id:o,name:i}})})})}();var i=r.__id__||uniqueID();e=j.unwrap(e);var a=r.__name__||r.name||t;return j.isProxyWindow(e)?(addMethod(i,r,a,e,n),e.awaitWindow().then(function(e){addMethod(i,r,a,e,n)})):addMethod(i,r,a,e,n),serializeType(E.CROSS_DOMAIN_FUNCTION,{id:i,name:a})}function serializeMessage(e,n,r,t){var o,i=t.on,a=t.send;return function(e,n){void 0===n&&(n=k);var r=JSON.stringify(e,function(e){var r=this[e];if(isSerializedType(this))return r;var t=determineType(r);if(!t)return r;var o=n[t]||I[t];return o?o(r,e):r});return void 0===r?P.UNDEFINED:r}(r,((o={})[P.PROMISE]=function(r,t){return function(e,n,r,t,o){return serializeType(E.CROSS_DOMAIN_ZALGO_PROMISE,{then:function_serializeFunction(e,n,function(e,n){return r.then(e,n)},t,{on:o.on,send:o.send})})}(e,n,r,t,{on:i,send:a})},o[P.FUNCTION]=function(r,t){return function_serializeFunction(e,n,r,t,{on:i,send:a})},o[P.OBJECT]=function(e){return isWindow(e)||j.isProxyWindow(e)?serializeType(E.CROSS_DOMAIN_WINDOW,j.serialize(e,{send:a})):e},o))}function deserializeMessage(e,n,r,t){var o,i=t.on,a=t.send;return function(e,n){if(void 0===n&&(n=R),e!==P.UNDEFINED)return JSON.parse(e,function(e,r){if(isSerializedType(this))return r;var t,o;if(isSerializedType(r)?(t=r.__type__,o=r.__val__):(t=determineType(r),o=r),!t)return o;var i=n[t]||A[t];return i?i(o,e):o})}(r,((o={})[E.CROSS_DOMAIN_ZALGO_PROMISE]=function(e){return new p(e.then)},o[E.CROSS_DOMAIN_FUNCTION]=function(r){return function(e,n,t,o){var i=r.id,a=r.name,s=o.send,u=function getDeserializedFunction(r){function crossDomainFunctionWrapper(){var t=arguments;return j.toProxyWindow(e,{send:s}).awaitWindow().then(function(e){var o=lookupMethod(e,i);if(o&&o.val!==crossDomainFunctionWrapper)return o.val.apply({source:window,origin:getDomain()},t);var u={domain:n,fireAndForget:r.fireAndForget},c=[].slice.call(t);return s(e,_.METHOD,{id:i,name:a,args:c},u).then(function(e){if(!r.fireAndForget)return e.data.result})}).catch(function(e){throw e})}return void 0===r&&(r={}),crossDomainFunctionWrapper.__name__=a,crossDomainFunctionWrapper.__origin__=n,crossDomainFunctionWrapper.__source__=e,crossDomainFunctionWrapper.__id__=i,crossDomainFunctionWrapper.origin=n,crossDomainFunctionWrapper},c=u();return c.fireAndForget=u({fireAndForget:!0}),c}(e,n,0,{on:i,send:a})},o[E.CROSS_DOMAIN_WINDOW]=function(e){return j.deserialize(e,{on:(n={on:i,send:a}).on,send:n.send});var n},o))}var D={};function send_sendMessage(e,n,r,t){var o,i=t.on,a=t.send;if(isWindowClosed(e))throw new Error("Window is closed");for(var s=serializeMessage(e,n,((o={}).__post_robot_10_0_16__=_extends({id:uniqueID(),origin:getDomain(window)},r),o),{on:i,send:a}),u=Object.keys(D),c=[],d=0;d<u.length;d++){var f=u[d];try{D[f](e,s,n)}catch(l){c.push(l)}}if(c.length===u.length)throw new Error("All post-robot messaging strategies failed:\n\n"+c.map(stringifyError).join("\n\n"))}D.postrobot_post_message=function(e,n,r){(Array.isArray(r)?r:"string"==typeof r?[r]:[b]).map(function(e){return 0===e.indexOf(i.FILE)?b:e}).forEach(function(r){e.postMessage(n,r)})};var T,C="__domain_regex__";function getResponseListener(e){return globalStore("responseListeners").get(e)}function deleteResponseListener(e){globalStore("responseListeners").del(e)}function isResponseListenerErrored(e){return globalStore("erroredResponseListeners").has(e)}function getRequestListener(e){var n=e.name,r=e.win,t=e.domain,o=windowStore("requestListeners");if(r===b&&(r=null),t===b&&(t=null),!n)throw new Error("Name required to get request listener");for(var i=0,a=[r,getWildcard()];i<a.length;i++){var s=a[i];if(s){var u=o.get(s);if(u){var c=u[n];if(c){if(t&&"string"==typeof t){if(c[t])return c[t];if(c[C])for(var d=0,f=c[C];d<f.length;d++){var l=f[d],w=l.listener;if(matchDomain(l.regex,t))return w}}if(c[b])return c[b]}}}}}var M=((T={}).postrobot_message_request=function(e,n,r,t){var o=t.on,i=t.send,a=getRequestListener({name:r.name,win:e,domain:n});function sendResponse(t,a,s){void 0===s&&(s={}),r.fireAndForget||isWindowClosed(e)||send_sendMessage(e,n,_extends({type:t,ack:a,hash:r.hash,name:r.name},s),{on:o,send:i})}return p.all([sendResponse("postrobot_message_ack"),p.try(function(){if(!a)throw new Error("No handler found for post message: "+r.name+" from "+n+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!matchDomain(a.domain,n))throw new Error("Request origin "+n+" does not match domain "+a.domain.toString());return a.handler({source:e,origin:n,data:r.data})}).then(function(e){return sendResponse("postrobot_message_response","success",{data:e})},function(e){return sendResponse("postrobot_message_response","error",{error:e})})]).then(src_util_noop).catch(function(e){if(a&&a.handleError)return a.handleError(e);throw e})},T.postrobot_message_ack=function(e,n,r){if(!isResponseListenerErrored(r.hash)){var t=getResponseListener(r.hash);if(!t)throw new Error("No handler found for post message ack for message: "+r.name+" from "+n+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!matchDomain(t.domain,n))throw new Error("Ack origin "+n+" does not match domain "+t.domain.toString());if(e!==t.win)throw new Error("Ack source does not match registered window");t.ack=!0}},T.postrobot_message_response=function(e,n,r){if(!isResponseListenerErrored(r.hash)){var t,o=getResponseListener(r.hash);if(!o)throw new Error("No handler found for post message response for message: "+r.name+" from "+n+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!matchDomain(o.domain,n))throw new Error("Response origin "+n+" does not match domain "+(t=o.domain,Array.isArray(t)?"("+t.join(" | ")+")":isRegex(t)?"RegExp("+t.toString():t.toString()));if(e!==o.win)throw new Error("Response source does not match registered window");deleteResponseListener(r.hash),"error"===r.ack?o.promise.reject(r.error):"success"===r.ack&&o.promise.resolve({source:e,origin:n,data:r.data})}},T);function receive_receiveMessage(e,n){var r=n.on,t=n.send,o=globalStore("receivedMessages");if(!window||window.closed)throw new Error("Message recieved in closed window");try{if(!e.source)return}catch(c){return}var a=e.source,s=e.origin,u=function(e,n,r,t){var o,i=t.on,a=t.send;try{o=deserializeMessage(n,r,e,{on:i,send:a})}catch(c){return}if(o&&"object"==typeof o&&null!==o&&(o=o.__post_robot_10_0_16__)&&"object"==typeof o&&null!==o&&o.type&&"string"==typeof o.type&&M[o.type])return o}(e.data,a,s,{on:r,send:t});u&&(markWindowKnown(a),o.has(u.id)||(o.set(u.id,!0),isWindowClosed(a)&&!u.fireAndForget||(0===u.origin.indexOf(i.FILE)&&(s=i.FILE+"//"),M[u.type](a,s,u,{on:r,send:t}))))}function on_on(e,n,r){if(!e)throw new Error("Expected name");if("function"==typeof n&&(r=n,n={}),!r)throw new Error("Expected handler");(n=n||{}).name=e,n.handler=r||n.handler;var t=n.window,o=n.domain,i=function addRequestListener(e,n){var r=e.name,t=e.win,o=e.domain,i=windowStore("requestListeners");if(!r||"string"!=typeof r)throw new Error("Name required to add request listener");if(Array.isArray(t)){for(var a=[],s=0,u=t;s<u.length;s++)a.push(addRequestListener({name:r,domain:o,win:u[s]},n));return{cancel:function cancel(){for(var e=0;e<a.length;e++)a[e].cancel()}}}if(Array.isArray(o)){for(var c=[],d=0,f=o;d<f.length;d++)c.push(addRequestListener({name:r,win:t,domain:f[d]},n));return{cancel:function cancel(){for(var e=0;e<c.length;e++)c[e].cancel()}}}var l=getRequestListener({name:r,win:t,domain:o});if(t&&t!==b||(t=getWildcard()),o=o||b,l)throw t&&o?new Error("Request listener already exists for "+r+" on domain "+o.toString()+" for "+(t===getWildcard()?"wildcard":"specified")+" window"):t?new Error("Request listener already exists for "+r+" for "+(t===getWildcard()?"wildcard":"specified")+" window"):o?new Error("Request listener already exists for "+r+" on domain "+o.toString()):new Error("Request listener already exists for "+r);var w,h,p=i.getOrSet(t,function(){return{}}),m=util_getOrSet(p,r,function(){return{}}),g=o.toString();return util_isRegex(o)?(w=util_getOrSet(m,C,function(){return[]})).push(h={regex:o,listener:n}):m[g]=n,{cancel:function cancel(){delete m[g],h&&(w.splice(w.indexOf(h,1)),w.length||delete m[C]),Object.keys(m).length||delete p[r],t&&!Object.keys(p).length&&i.del(t)}}}({name:e,win:t,domain:o},{handler:n.handler,handleError:n.errorHandler||function(e){throw e},window:t,domain:o||b,name:e});return{cancel:function cancel(){i.cancel()}}}function on_once(e,n,r){"function"==typeof(n=n||{})&&(r=n,n={});var t,o=new p;return n.errorHandler=function(e){t.cancel(),o.reject(e)},t=on_on(e,n,function(e){if(t.cancel(),o.resolve(e),r)return r(e)}),o.cancel=t.cancel,o}var N=function send(e,n,r,t){var o=(t=t||{}).domain||b,i=t.timeout||-1,a=t.timeout||5e3,s=t.fireAndForget||!1;return p.try(function(){return function(e,n,r){if(!e)throw new Error("Expected name");if(r&&"string"!=typeof r&&!Array.isArray(r)&&!util_isRegex(r))throw new TypeError("Expected domain to be a string, array, or regex");if(isWindowClosed(n))throw new Error("Target window is closed")}(n,e,o),function normalizeDomain(e,n,r,t){var o=t.send;return p.try(function(){return function(e,n){var r=getAncestor(n);if(r)return r===e;if(n===e)return!1;if(function(e){if(e){try{if(e.top)return e.top}catch(o){}if(getParent(e)===e)return e;try{if(isAncestorParent(window,e)&&window.top)return window.top}catch(o){}try{if(isAncestorParent(e,window)&&window.top)return window.top}catch(o){}for(var n=0,r=function getAllChildFrames(e){for(var n=[],r=0,t=getFrames(e);r<t.length;r++){var o=t[r];n.push(o);for(var i=0,a=getAllChildFrames(o);i<a.length;i++)n.push(a[i])}return n}(e);n<r.length;n++){var t=r[n];try{if(t.top)return t.top}catch(o){}if(getParent(t)===t)return t}}}(n)===n)return!1;for(var t=0,o=getFrames(e);t<o.length;t++)if(o[t]===n)return!0;return!1}(window,e)?function(e,n,r){void 0===n&&(n=5e3),void 0===r&&(r="Window");var t=getHelloPromise(e);return-1!==n&&(t=t.timeout(n,new Error(r+" did not load after "+n+"ms"))),t}(e,r):util_isRegex(n)?sayHello(e,{send:o}):{domain:n}}).then(function(e){return e.domain})}(e,o,a,{send:send})}).then(function(t){if(!matchDomain(o,t))throw new Error("Domain "+stringify(o)+" does not match "+stringify(t));o=t;var a,u,c=n===_.METHOD&&r&&"string"==typeof r.name?r.name+"()":n,d=new p,f=n+"_"+uniqueID();if(!s){var l={name:n,win:e,domain:o,promise:d};!function(e,n){globalStore("responseListeners").set(e,n)}(f,l);var w=windowStore("requestPromises").getOrSet(e,function(){return[]});w.push(d),d.catch(function(){!function(e){globalStore("erroredResponseListeners").set(e,!0)}(f),deleteResponseListener(f)});var h=function(e){return windowStore("knownWindows").get(e,!1)}(e)?1e4:2e3,m=i,g=h,v=m,y=(a=function method(){return isWindowClosed(e)?d.reject(new Error("Window closed for "+n+" before "+(l.ack?"response":"ack"))):l.cancelled?d.reject(new Error("Response listener was cancelled for "+n)):(g=Math.max(g-500,0),-1!==v&&(v=Math.max(v-500,0)),l.ack||0!==g?0===v?d.reject(new Error("No response for postMessage "+c+" in "+getDomain()+" in "+m+"ms")):void 0:d.reject(new Error("No ack for postMessage "+c+" in "+getDomain()+" in "+h+"ms")))},function loop(){u=setTimeout(function(){a(),loop()},500)}(),{cancel:function cancel(){clearTimeout(u)}});d.finally(function(){y.cancel(),w.splice(w.indexOf(d,1))}).catch(src_util_noop)}return send_sendMessage(e,o,{type:"postrobot_message_request",hash:f,name:n,data:r,fireAndForget:s},{on:on_on,send:send}),s?d.resolve():d})};function setup_serializeMessage(e,n,r){return serializeMessage(e,n,r,{on:on_on,send:N})}function setup_deserializeMessage(e,n,r){return deserializeMessage(e,n,r,{on:on_on,send:N})}function setup_toProxyWindow(e){return j.toProxyWindow(e,{send:N})}function setup(){var e,n,r,t;global_getGlobal().initialized||(global_getGlobal().initialized=!0,n=(e={on:on_on,send:N}).on,r=e.send,(t=global_getGlobal()).receiveMessage=t.receiveMessage||function(e){return receive_receiveMessage(e,{on:n,send:r})},function(e){var n=e.on,r=e.send;globalStore().getOrSet("postMessageListener",function(){return(e=window).addEventListener("message",t=function handler(e){!function(e,n){var r=n.on,t=n.send,o=e.source||e.sourceElement,a=e.origin||e.originalEvent&&e.originalEvent.origin,s=e.data;if("null"===a&&(a=i.FILE+"//"),o){if(!a)throw new Error("Post message did not have origin domain");receive_receiveMessage({source:o,origin:a,data:s},{on:r,send:t})}}(e,{on:n,send:r})}),{cancel:function cancel(){e.removeEventListener("message",t)}};var e,t})}({on:on_on,send:N}),function(e){var n=e.on,r=e.send;globalStore("builtinListeners").getOrSet("helloListener",function(){var e=n(_.HELLO,{domain:b},function(e){var n=e.source,r=e.origin;return getHelloPromise(n).resolve({win:n,domain:r}),{instanceID:getInstanceID()}}),t=getAncestor();return t&&sayHello(t,{send:r}).catch(src_util_noop),e})}({on:on_on,send:N}))}function destroy(){var e;!function(){for(var e=globalStore("responseListeners"),n=0,r=e.keys();n<r.length;n++){var t=r[n],o=e.get(t);o&&(o.cancelled=!0),e.del(t)}}(),(e=globalStore().get("postMessageListener"))&&e.cancel(),delete window.__post_robot_10_0_16__}function cleanUpWindow(e){for(var n=0,r=windowStore("requestPromises").get(e,[]);n<r.length;n++)r[n].reject(new Error("Window cleaned up before response")).catch(src_util_noop)}t.d(r,"bridge",function(){}),t.d(r,"Promise",function(){return p}),t.d(r,"TYPES",function(){return!0}),t.d(r,"ProxyWindow",function(){return j}),t.d(r,"setup",function(){return setup}),t.d(r,"destroy",function(){return destroy}),t.d(r,"serializeMessage",function(){return setup_serializeMessage}),t.d(r,"deserializeMessage",function(){return setup_deserializeMessage}),t.d(r,"toProxyWindow",function(){return setup_toProxyWindow}),t.d(r,"on",function(){return on_on}),t.d(r,"once",function(){return on_once}),t.d(r,"send",function(){return N}),t.d(r,"markWindowKnown",function(){return markWindowKnown}),t.d(r,"cleanUpWindow",function(){return cleanUpWindow}),setup()}])}).call(this,r("GmLw").Buffer)},maj8:function(e,n,r){"use strict";var t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},r=0;r<10;r++)n["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(n).map(function(e){return n[e]}).join(""))return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},t)).join("")}catch(o){return!1}}()?Object.assign:function(e,n){for(var r,a,s=function toObject(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in r=Object(arguments[u]))o.call(r,c)&&(s[c]=r[c]);if(t){a=t(r);for(var d=0;d<a.length;d++)i.call(r,a[d])&&(s[a[d]]=r[a[d]])}}return s}},prCu:function(e,n,r){"use strict";n.decode=n.parse=r("r/K9"),n.encode=n.stringify=r("zHZo")},"r/K9":function(e,n,r){"use strict";function hasOwnProperty(e,n){return Object.prototype.hasOwnProperty.call(e,n)}e.exports=function(e,n,r,o){n=n||"&",r=r||"=";var i={};if("string"!==typeof e||0===e.length)return i;var a=/\+/g;e=e.split(n);var s=1e3;o&&"number"===typeof o.maxKeys&&(s=o.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var d,f,l,w,h=e[c].replace(a,"%20"),p=h.indexOf(r);p>=0?(d=h.substr(0,p),f=h.substr(p+1)):(d=h,f=""),l=decodeURIComponent(d),w=decodeURIComponent(f),hasOwnProperty(i,l)?t(i[l])?i[l].push(w):i[l]=[i[l],w]:i[l]=w}return i};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},ssRi:function(e,n,r){(function(e,t){var o;!function(i){n&&n.nodeType,e&&e.nodeType;var a="object"==typeof t&&t;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=36,d=1,f=26,l=38,w=700,h=72,p=128,m="-",g=/^xn--/,v=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=c-d,E=Math.floor,O=String.fromCharCode;function error(e){throw new RangeError(_[e])}function map(e,n){for(var r=e.length,t=[];r--;)t[r]=n(e[r]);return t}function mapDomain(e,n){var r=e.split("@"),t="";return r.length>1&&(t=r[0]+"@",e=r[1]),t+map((e=e.replace(y,".")).split("."),n).join(".")}function ucs2decode(e){for(var n,r,t=[],o=0,i=e.length;o<i;)(n=e.charCodeAt(o++))>=55296&&n<=56319&&o<i?56320==(64512&(r=e.charCodeAt(o++)))?t.push(((1023&n)<<10)+(1023&r)+65536):(t.push(n),o--):t.push(n);return t}function ucs2encode(e){return map(e,function(e){var n="";return e>65535&&(n+=O((e-=65536)>>>10&1023|55296),e=56320|1023&e),n+=O(e)}).join("")}function digitToBasic(e,n){return e+22+75*(e<26)-((0!=n)<<5)}function adapt(e,n,r){var t=0;for(e=r?E(e/w):e>>1,e+=E(e/n);e>b*f>>1;t+=c)e=E(e/b);return E(t+(b+1)*e/(e+l))}function decode(e){var n,r,t,o,i,a,s,l,w,g,v,y=[],_=e.length,b=0,O=p,S=h;for((r=e.lastIndexOf(m))<0&&(r=0),t=0;t<r;++t)e.charCodeAt(t)>=128&&error("not-basic"),y.push(e.charCodeAt(t));for(o=r>0?r+1:0;o<_;){for(i=b,a=1,s=c;o>=_&&error("invalid-input"),((l=(v=e.charCodeAt(o++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:c)>=c||l>E((u-b)/a))&&error("overflow"),b+=l*a,!(l<(w=s<=S?d:s>=S+f?f:s-S));s+=c)a>E(u/(g=c-w))&&error("overflow"),a*=g;S=adapt(b-i,n=y.length+1,0==i),E(b/n)>u-O&&error("overflow"),O+=E(b/n),b%=n,y.splice(b++,0,O)}return ucs2encode(y)}function encode(e){var n,r,t,o,i,a,s,l,w,g,v,y,_,b,S,W=[];for(y=(e=ucs2decode(e)).length,n=p,r=0,i=h,a=0;a<y;++a)(v=e[a])<128&&W.push(O(v));for(t=o=W.length,o&&W.push(m);t<y;){for(s=u,a=0;a<y;++a)(v=e[a])>=n&&v<s&&(s=v);for(s-n>E((u-r)/(_=t+1))&&error("overflow"),r+=(s-n)*_,n=s,a=0;a<y;++a)if((v=e[a])<n&&++r>u&&error("overflow"),v==n){for(l=r,w=c;!(l<(g=w<=i?d:w>=i+f?f:w-i));w+=c)S=l-g,b=c-g,W.push(O(digitToBasic(g+S%b,0))),l=E(S/b);W.push(O(digitToBasic(l,0))),i=adapt(r,_,t==o),r=0,++t}++r,++n}return W.join("")}s={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function toASCII(e){return mapDomain(e,function(e){return v.test(e)?"xn--"+encode(e):e})},toUnicode:function toUnicode(e){return mapDomain(e,function(e){return g.test(e)?decode(e.slice(4).toLowerCase()):e})}},void 0===(o=function(){return s}.call(n,r,n,e))||(e.exports=o)}()}).call(this,r("aYSr")(e),r("fRV1"))},zHZo:function(e,n,r){"use strict";var t=function stringifyPrimitive(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,a){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?map(i(e),function(i){var a=encodeURIComponent(t(i))+r;return o(e[i])?map(e[i],function(e){return a+encodeURIComponent(t(e))}).join(n):a+encodeURIComponent(t(e[i]))}).join(n):a?encodeURIComponent(t(a))+r+encodeURIComponent(t(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,n){if(e.map)return e.map(n);for(var r=[],t=0;t<e.length;t++)r.push(n(e[t],t));return r}var i=Object.keys||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(r);return n}}}]);